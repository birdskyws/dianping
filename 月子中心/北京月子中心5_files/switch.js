define("switch@0.1.0/lib/switch",["./queue","./plugins","attributes@~1.4.0","util@~1.0.4","events@~1.0.5","underscore@~1.5.3","jquery@~1.9.2"],function(t,e,n){"use strict";function i(){}function r(t){return!t||1>t?1:t}function s(t,e){var n=this,i=n.triggers[e||n.activeIndex],r=n.get("triggerOnCls");i&&(t?i.removeClass(r):i.addClass(r))}function o(){this._plugins=[],this._plugin_names=[],this._lifeCycle=new u.Runner(l.clone(this.lifeCycle),this)}var u=t("./queue"),a=t("./plugins"),c=t("attributes"),f=t("util"),h=t("events"),l=t("underscore"),p=t("jquery");n.exports=o;var g="beforeInit",v="afterInit",d="beforeSwitch",_="switching",m="completeSwitch",y="navEnable",I="navDisable",x="",T="prev",C="next";f.inherits(o,h),o.prototype.lifeCycle=["_before","_on","_after"],o.prototype.plugin=function(){for(var t,e=this,n=arguments.length,i=0;n>i;i++)t=arguments[i],f.isString(t)&&(t=a[t.toLowerCase()]),t&&e._addOnePlugin(t);return e},o.prototype._addOnePlugin=function(t){var e=this;if(t&&t.name&&-1===e._plugin_names.indexOf(t.name)&&!e.pluginFinal)return l.each(t.ATTRS,function(t,e){var n,i;this.addAttr(e,t),t&&(i=t.value)!==n&&this.set(e,i)},e),e._plugins.push(t),e._plugin_names.push(t.name),t.final_?e.pluginFinal=!0:!1},o.prototype.init=function(t){var e,n,i=this,r=i._plugins;return i.nav={},i.items=[],r.forEach(function(t){t.init&&t.init(i)}),["CSPre","containerCS","activeIndex","triggerType"].forEach(function(e){var n=t[e];i.set(e,n||""),delete t[e]}),i.emit(g),i.set(t),i.container.length&&(i._itemData(),i.originLength=i.length,i.emit(v),n=i.expectIndex=i.activeIndex,e=i.items[n],(!i.originLength||e&&!e.hasClass(i.get("itemOnCls"))&&i.pages>1)&&i.switchTo(i.activeIndex,!0)),i},o.prototype.switchTo=function(t,e){return this.force=e,this.expectIndex=this._limit(t),this._runLC(),this},o.prototype.prev=function(t){var e=this.activeIndex-this.get("move");return this.emit(T),(t||!this.noprev)&&this.switchTo(t?e%this.length:e),this},o.prototype.next=function(t){var e=this.activeIndex+this.get("move");return this.emit(C),(t||!this.nonext)&&this.switchTo(t?e%this.length:e),self},o.prototype._itemData=function(t){this.length=t||this.items.length,this.pages=1+Math.ceil((this.length-this.get("stage"))/this.get("move"))},o.prototype._runLC=function(){this._lifeCycle.run()},o.prototype._before=function(){var t=this.expectIndex;this.force||this.activeIndex!==t?(this.emit(d),this.force=!1):this._lifeCycle.stop()},o.prototype._on=function(){this.emit(_)},o.prototype._after=function(){var t=this.pageCounters;t&&t.text(this._getPage()+1)},o.prototype._getItem=function(t){return this.items[t]},o.prototype._plantItem=function(t,e,n){return t&&!t.offsetParent&&(t.inject(this.container),n||t.css(this.get("direction"),this._getOffset(e)*this.get("itemSpace"))),t},o.prototype._getOffset=function(t){return t},o.prototype._onEnterTrigger=function(){this.triggerOn=!0},o.prototype._onLeaveTrigger=function(){this.triggerOn=!1},o.prototype._dealNavs=function(){this._dealNav("prev"),this._dealNav("next")},o.prototype._dealNav=function(t){var e=this.nav[t];if(e){var n=this["_isNo"+t]();this.emit(n?I:y,[e,t])}},o.prototype._dealTriggerCls=i,o.prototype._limit=function(t){return Math.max(0,Math.min(this.length-1,t))},o.prototype._getPage=function(){return parseInt(this.activeIndex/this.get("move"))},o.prototype._isNoprev=function(){return this.noprev=!this._getPage()&&!this.activeIndex},o.prototype._isNonext=function(){return this.nonext=this._getPage()>=this.pages-1},c.patch(o,{stage:{value:1,setter:r},move:{value:1,setter:r},triggerType:{value:"click",validator:function(t){return!!t}},CSPre:{writeOnce:!0,setter:function(t){this.CSPre=t+" "}},triggerCS:{setter:function(t){var e=this,n=e.get("triggerType"),i=e.get("move");e.triggers=p(e.CSPre+t).get().map(function(t,r){var s=e;return p(t).on(n,function(t){t&&t.preventDefault(),s.switchTo(r*i)}).on({mouseenter:function(){s._onEnterTrigger(r)},mouseleave:function(){s._onLeaveTrigger(r)}})}),e._dealTriggerCls=s}},triggerOnCls:{value:x},countCS:{setter:function(t){this.pageCounters=p(this.CSPre+t)}},containerCS:{setter:function(t){this.container=p(this.CSPre+t).eq(0)}},prevCS:{setter:function(t){var e=this,n="prev";e.nav[n]=p(e.CSPre+t).on(e.get("triggerType"),function(t){t&&t.preventDefault(),e[n]()})}},nextCS:{setter:function(t){var e=this,n="next";e.nav[n]=p(e.CSPre+t).on(e.get("triggerType"),function(t){t&&t.preventDefault(),e[n]()})}},itemCS:{setter:function(t){var e=this;e.items=e.container.find(t).get().map(function(t){return p(t)})}},itemOnCls:{value:x},activeIndex:{value:0,setter:function(t){this.activeIndex=!t||0>t?0:t}},EVENTS:{value:{BEFORE_INIT:g,AFTER_INIT:v,BEFORE_SWITCH:d,ON_SWITCH:_,COMPLETE_SWITCH:m,NAV_DISABLE:I,NAV_ENABLE:y,PREV:T,NEXT:C},readOnly:!0}})},{}),define("switch@0.1.0/lib/plugins",["../plugins/autoplay","../plugins/carousel","../plugins/endless"],function(t,e,n){"use strict";n.exports={autoplay:t("../plugins/autoplay"),carousel:t("../plugins/carousel"),endless:t("../plugins/endless")}},{}),define("switch@0.1.0/lib/queue",["jquery@~1.9.2","util@~1.0.4","mix@~1.0.1"],function(t,e){"use strict";function n(){}function i(t,e){this._stack=[],this._presetItems=t,this.host=e||null}function r(){i.apply(this,arguments)}function s(){i.apply(this,arguments)}e.Runner=r,e.Converter=s;var o=t("jquery"),u=t("util"),a=t("mix");i.prototype.resume=function(){var t=this;return t.processing=!1,t._next()},i.prototype._santitize=function(t){var e=this,n=e.host;return o.isFunction(t)?t={method:t}:o.isPlainObject(t)?(t=a(t,e._santitize(t.method),!0,["method","bind","id"]),n&&!("bind"in t)&&(t.bind=n)):t="string"==typeof t&&n?{method:n[t],bind:n,id:t}:{},a({auto:!0,once:!1},t)},i.prototype._next=function(){var t,e,n=this;return!n.processing&&(t=n._stack.shift())&&(e=t.method)?(n.processing=!0,e.apply(t.bind||null,t.args||[]),t.auto&&n.resume()):void 0},u.inherits(r,i),r.prototype.run=function(t){var e=this;e._stack=e._sd(t?K.makeArray(t):e._presetItems),e.resume()},r.prototype.stop=function(){this._stack.length=0},r.prototype._sd=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e._santitize(t))}),n},u.inherits(s,i),s.prototype.on=function(){var t=this,e=t.host;return t._items={},t._history=[],e&&t._presetItems.forEach(function(e){e&&t._add(e)}),t._converted=!0,t},s.prototype.off=function(){var t,e=this,n=e.host;for(t in e._items)delete n[t],n[t]=e._items[t];return e._clean(),e._converted=!1,e},s.prototype._clean=function(){var t=this;t._items={},t._stack.length=t._history.length=0},s.prototype._add=function(t){var e,i=this,r=i.host;return i._converted||!r?i:(t=i._santitize(t),e=t.id,delete t.id,void(e&&(i._items[e]=t.method,r[e]=function(){var s,o,u=e;return-1!==i._history.indexOf(t.before)||t.once&&-1!==i._history.indexOf(u)||(o=K.mix,s=o({},t),s.args=arguments,i._stack.push(s),i._history.push(u)),t.once&&(i._items[u]=n),setTimeout(function(){i._next()},0),r})))}},{}),define("switch@0.1.0/plugins/autoplay",["underscore@~1.5.3","../lib/delay"],function(t,e,n){"use strict";var i=t("underscore"),r=t("../lib/delay");n.exports={name:"autoplay",final_:!0,ATTRS:{interval:{value:3e3},hoverStop:{value:!0},circular:{value:!0}},init:function(t){function e(){var e=t;e.triggerOn||e.paused||e.next(e.get("circular"))}function n(){u=!0,o.cancel()}function s(){u=!1,o.start()}var o,u=!1,a=t.get("EVENTS");t.on(a.AFTER_INIT,function(){var u=t;o=r(e,u.get("interval")),i.extend(u,{pause:n,resume:s}),u.get("hoverStop")&&u.container.on({mouseenter:function(){u.paused=!0},mouseleave:function(){u.paused=!1,o.start()}}),o.start()}),t.on(a.BEFORE_SWITCH,function(){o.cancel()}),t.on(a.COMPLETE_SWITCH,function(){!u&&o.start()})}}},{}),define("switch@0.1.0/plugins/carousel",["jquery@~1.9.2","fx@~2.0.0"],function(t,e,n){"use strict";function i(t){if(t.triggers){var e,n=t.triggers.length,i=s("<div></div>").appendTo(t.container);for(e=t.pages;n>e;++e)t.triggers[e].destroy();i[0].offsetParent!==t.container[0]&&t.container.css("position","relative"),i.remove()}}function r(t){return t.replace(/^[a-z]/i,function(t){return t.toUpperCase()})}var s=t("jquery"),o=t("fx"),u=t("fx").Transitions;n.exports={name:"carousel",ATTRS:{fx:{value:{link:"cancel",transition:u.Pow.easeOut,duration:300}},direction:{value:"left"}},init:function(t){var e,n,s=t.get("EVENTS");t.on(s.AFTER_INIT,function(){i(this);var u=this,a=(u.activeIndex,u.get("fx")),c=u.container;e=u.get("direction"),t.offsetDirection=n="offset"+r(e),a.property||(a.property=e),u.effect=new o(c,a).on("complete",function(){u.emit(s.COMPLETE_SWITCH)}),!parseInt(c.css(e))&&c.css(e,0),u._dealNavs()}),t.on(s.BEFORE_SWITCH,function(){this._dealTriggerCls(!0)}),t.on(s.ON_SWITCH,function(){var t=this,i=t.activeIndex=t.expectIndex,r=t._getItem(i);t._dealNavs(),r&&t.effect.start(e,-r[0][n]),t._dealTriggerCls(!1,i)})}}},{}),define("switch@0.1.0/plugins/endless",["underscore@~1.5.3"],function(t,e,n){"use strict";function i(){return!1}function r(t,e){return t-Math.floor(t/e)*e}function s(t,e){{var n=t.get("move"),i=t.get("stage");t.get("direction"),t.offsetDirection}t.leftItems=t.curOffset=t.activeIndex,t.rightItems=t.length-i-t.leftItems,o.extend(t,u),t.on(e.NEXT,function(){var t=this,e=n-t.rightItems;e>0&&t._moveItems(e),t._dealOffset(n)}),t.on(e.PREV,function(){var t=this,e=n-t.leftItems;e>0&&t._moveItems(-e),t._dealOffset(-n)})}var o=t("underscore"),u={noprev:!1,nonext:!1,_limit:function(t){return r(t,this.length)},_isNoprev:i,_isNonext:i,_moveItems:function(t){var e,n,i,s,o=this,u=o.get("stage"),a=o.get("direction"),c=o.get("itemSpace"),f=o.length,h=o.curOffset,l=h+u+o.rightItems-1;for(t>0?(e=1,n=1,i=function(){return t>=e},s=l):(e=0,n=-1,i=function(){return e>t},s=h-o.leftItems-1);i();e+=n)o._getItem(r(l+e,f),!0).css(a,(s+e)*c);o.leftItems-=t,o.rightItems+=t},_dealOffset:function(t){var e=this;return e.curOffset+=t,e.rightItems-=t,e.leftItems+=t,e},_getOffset:function(t){var e,n,i=this,r=i.get("stage"),s=i.expectIndex,o=t-s;return 0!==o&&(e=r+i.rightItems-1,n=-i.leftItems,o>0&&o>e?o+=n-e:0>o&&n>o&&(o+=e-n)),i.curOffset+o}};n.exports={name:"endless",ATTRS:{itemSpace:null},init:function(t){var e=t.get("EVENTS");t.on(e.AFTER_INIT,function(){var n=t;n.length>=n.get("stage")+n.get("move")&&s(n,e)})}}},{}),define("switch@0.1.0/lib/delay",[],function(t,e,n){"use strict";n.exports=function(t,e,n){var i={start:function(){return i.cancel(),i.id=n?setInterval(t,e):setTimeout(t,e)},cancel:function(){var t=i.id;return i.id=n?clearInterval(t):clearTimeout(t),i}};return i}},{}),define("switch@0.1.0/index",["./lib/switch","./lib/plugins"],function(t,e,n){"use strict";function i(){return new Switch}n.exports=i,i.Switch=t("./lib/switch"),i.Plugins=t("./lib/plugins")},{main:!0});