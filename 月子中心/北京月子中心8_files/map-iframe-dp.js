define("map-iframe-dp@0.1.1/index",["jquery@~1.9.2"],function(t,i,e){"use strict";function n(t,i,e){this.iframe=null,this.$iframe=null,this.loaded=!1,this.cityId=i.cityId,this.loadIframe(),this.init(t,i.pois,i,e)}var r=t("jquery"),a=1;n.prototype.loadIframe=function(){this.$iframe=r("<iframe>"),this.iframe=this.$iframe[0],this.$iframe.css("border","none"),this.$iframe.attr("frameBorder","0"),this.$iframe.attr("scrolling","no"),this.iframe.src="/mapcenter/iframe?cityId="+this.cityId+"&cb=IframeCb_"+a},n.prototype.init=function(t,i,e,n){var r=this,o=r.iframe,s=(r.$iframe,{width:e.css&&e.css.width||t.width(),height:e.css&&e.css.height||t.height()});t.empty(),r.$iframe.appendTo(t),r.$iframe.css(s),r.$iframe.css("overflow","hidden"),t.css(s),t.css("overflow","hidden"),-1!=navigator.userAgent.indexOf("MSIE 6.0")&&(r.iframe.src=r.iframe.src),window["IframeCb_"+a]=function(t){return function(){function a(){if(f=new o.contentWindow.Map(d,i,e),!f)return!1;f.map.setOptions({zoomControl:!1}),["DPMap","DPMarker","DPLatLng","DPIcon","DPEvent","DPLabel"].forEach(function(t){window[t]=o.contentWindow[t]}),n&&n(f,d);try{delete window["IframeCb_"+t]}catch(r){window["IframeCb_"+t]=null}t++}var c,f,d=o.contentWindow.document.getElementById("map"),h="",m=0;r.loaded=!0,s.width&&(h+="width:"+s.width+"px;"),s.height&&(h+="height:"+s.height+"px;"),d.style.cssText=h,o.contentWindow.Map?a():c=setInterval(function(){o.contentWindow.Map&&(a(),clearInterval(c),m=0),m++},100)}}(a)},e.exports=n},{main:!0});