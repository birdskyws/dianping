!function(){"use strict";var u=!0,t="_MeiTuanALogObject",f=1,r="dianping_nova",g="waimai",_="group",c="demo",y="4.10.2",w="lxcuid",b="uuid",x="msid",S="cityid",A="utm",k="uid",O="userid",q="dpid",I="appnm",s="union_id",d="web_env",j="wxmp_env",l="pd_data",D=/^(([^? \r\n]*)\?)?([^?# \r\n]+)(#\S+)?$/,C=setTimeout,v=clearTimeout,p=1,a=2,h=3,m=4,e=5,i=6,o=20,E=7;function N(n){var t=n;return n&&n.code&&(t=n.code),t===p?"E_TIME_OUT":t===a?"E_NO_JSBRIDGE":t===h?"E_KNB_FAIL":t===m?"E_KNB_CB_FAIL":t===e?"E_KNB_NOT_EXIST":t===o?"ERR_PARAMS":t===i?"E_KNB_METHOD_NOT_SUPPORT":"unknown error: "+t}var T=200,M=100,R=500,F=600,L=-1,V="PV",P="PD",B="MC",U="SC",Q="MV",K="MVL",J="ME",X="BO",$="BP",W="event_type",z="val_act",H="val_cid",Z="index",G="element_id",Y="pageView",nn="systemCheck",tn="moduleClick",en="order",rn="order_id",on=1e3,an=2,un=0,cn=-1,sn=0,fn=1,dn=10080,ln=1576800,vn=30,pn="_lx_utm",hn="_lxsdk",mn="_lxsdk_cuid",gn="_lxsdk_dpid",_n="_lxsdk_s",yn="latlng",wn="msid",bn="ms",xn="category",Sn="c",kn="login_type",On="lt",qn="locate_city_id",An="lci",In="sdk_ver",jn="sv",Dn="lxcuid",Cn="lxid",En="val_lab",Nn="val_bid",Tn="val_val",Mn="sf",Rn="__$lx_beacon_",Fn={category:u,union_id:u,lxcuid:u,app:u,sdk_ver:u,appnm:u,ch:u,lch:u,ct:u,did:u,dm:u,ua:u,msid:u,uuid:u,lat:u,log:u,net:u,os:u,idfa:u,pushid:u,subcid:u,mac:u,imsi:u,uid:u,logintype:u,cityid:u,apn:u,mno:u,pushSetting:u,wifi:u,bht:u,ip:u,vendorid:u,geohash:u,dtk:u,sns:u,android_id:u,version_code:u,brand:u,utm:u},Ln="post",Vn="validation",Pn="__lx"+Vn,Bn=".sankuai.com",Un="report.meituan.com",Qn="hreport.meituan.com",Kn=function(){};function n(){return window}function Jn(){return n().XMLHttpRequest}var Xn,$n,Wn=(Xn=Jn(),$n=Xn&&"withCredentials"in new Xn,function(){return $n}),zn=/__lxvalidation=([\w.]+)/i,Hn=10,Zn=!1,Gn=void 0,Yn=void 0,nt={};function tt(n){var t,e="v2/api/"+Vn+"/validate",r="validate-ocean"+Bn,i=0===ge().indexOf("http:")?"http:":"https:",o=i+"//"+n+"/",a=Ct.search.match(zn)||[],u=function(){var n=ie.get(Pn);if(n){var t=n.split("|");return{mis:t[0],env:t[1]||""}}return n||{}}();(t=a&&a[1]||u.mis||"")&&(ie.set(Pn,t+"|",Hn),o=i+"//"+r+"/"+e+"?mis="+t);return o}var et={inWXMP:!1,pageValLab:null,pageEnv:null,use_post:!1,cid:null,appnm:null,quit:null,useQR:!1,onWebviewAppearAutoPV:!0,nativeSDKVer:null},rt=[];et.on=function(n,t){rt.push({name:n,fn:t})};var it={MVL:!(et.emit=function(r,i,o,a,u){ne.each(rt,function(n){var t=n.name,e=n.fn;t===r&&e(i,o,a,u)})}),QR:!1,getReqId:!1};function ot(n){return!!it[n]}function at(n,t){Ht.isStr(n)&&(nt[n]=t)}function ut(n){Zn=n}function ct(){return Zn===f}function st(n){return Gn&&!n||(Gn=tt(Un)),Gn}var ft=["wreport.meituan.net","wreport1.meituan.net","wreport2.meituan.net"],dt=0;function lt(n){if(!Yn||n){var t=ft[parseInt(dt++%18/6)];Yn=tt(t)}return Yn}var vt=void 0;function pt(){if(Rt!==vt)return vt;var n=Et.getElementsByTagName("meta");return vt="off"===fe(n,"lx:native-report")}var ht=un;function mt(){return ht}function gt(n){pt()||(ht=n)}var _t=!1;function yt(n){_t=!!n}var wt=5e3,bt=50,xt={MVL:{}},St=void 0,kt=void 0;function Ot(n,t,e,r){r=r||{};var i=t.category,o=e.req_id,a=e.val_cid,u=e.val_bid,c=r.tag;if(xt[n]&&Ht.isStr(n)&&Ht.isStr(i)&&Ht.isStr(o)&&Ht.isStr(a)&&Ht.isStr(u)){var s=i+"_"+o+"_"+a+"_"+u,f=xt[n];Ht.isObj(f[s])||(f[s]={env:Ht.extend(!0,{},t),evs:e,lab:[]}),Ht.isObj(c)&&(f[s].evs.tag=c);var d=Ht.extend(!0,e.val_lab,{_seq:e.seq,_tm:e.tm});f[s].lab.push(d),function(){var n=0;for(var t in xt){var e=xt[t];for(var r in e){var i=e[r].lab;n+=i.length||0}}bt<n&&It()}()}}function qt(n,t){var e=(t||{}).withUnload,r=xt[n];if(Ht.isObj(r)){var i=[];for(var o in r){var a=r[o],u=!1;if(a.lab&&a.lab.length){var c=a.env,s=a.evs,f={mv_list:a.lab,custom:{_withUnload:!!e}};s.val_lab=f;for(var d=0,l=i.length;d<l;d++){var v=i[d];if(!At(v,c)){v.evs.push(s),u=!0;break}}u||(c.evs=[s],i.push(c))}}i.length&&kt.send(i),xt[n]={}}}function At(n,t){var e=0,r=0;for(var i in n)n.hasOwnProperty(i)&&e++;for(var o in t)t.hasOwnProperty(o)&&r++;var a=r<e?n:t,u=e<=r?n:t;for(var c in a){if(!(-1<"evs|".indexOf(c+"|")))if(Ht.isObj(a[c])&&Ht.isObj(u[c])){if(At(a[c],u[c]))return!0}else if(a[c]!==u[c])return!0}return!1}function It(n){var t=(n||{}).withUnload;for(var e in xt)qt(e,{withUnload:t})}C(function n(){clearTimeout(St);try{It()}catch(n){}finally{mt()===un?St=C(n,wt):clearTimeout(St)}},100);var jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dt=n(),Ct=location,Et=document,Nt=Et.domain,Tt=navigator,Mt=Tt.userAgent.toString(),Rt=void 0,Ft=Array.prototype,Lt=Object.prototype,Vt=decodeURIComponent,Pt=encodeURIComponent,Bt=$t(),Ut=Lt.toString,Qt=Lt.hasOwnProperty;function Kt(){}function Jt(n){return void 0===n?"undefined":jt(n)}function Xt(n,t){return Jt(n)===t}function $t(){return+new Date}function Wt(){return Math.random()}function zt(n){return Xt(n,"number")}var Ht={};function Zt(n,e,r){var i=void 0,o=!0===n;return o||(r=e,e=n),e&&Ht.isObj(e)||(e={}),r&&Ht.isObj(r)||(r={}),ne.each(r,function(n,t){o&&Ht.isObj(r[t])?(i=e[t],e[t]=Ht.isObj(i)?i:{},Zt(o,e[t],r[t])):e[t]=r[t]}),e}Ht.trim=function(n){return n.replace(/^[\s\uFEFF\xA0\u3000]+|[\s\uFEFF\xA0\u3000]+$/g,"")},Ht.now=$t,Ht.rnd=Wt,Ht.hasOwn=function(n,t){return Qt.call(n,t)},Ht.extend=Zt;var Gt=function(n){return n&&"[object Object]"===Ut.call(n)};Ht.isObj=Gt;var Yt=function(n){return Xt(n,"string")};Ht.isStr=Yt,Ht.isFunc=function(n){return Xt(n,"function")},Ht.attr=function(n,t){return n.getAttribute(t)},Ht.parseQuery=function(n){var i={};if(n){var t=n.replace(D,function(n,t,e,r){return r||""}).split("&");return ne.each(t,function(n){var t=n.split("="),e=t[0],r=t.slice(1).join("")||"";e&&!Qt.call(i,e)&&(i[e]=Vt(r))}),i}},Ht.stringifyQuery=function(n){var r=[];return Ht.isObj(n)&&ne.each(n,function(n,t){var e;Ht.isFunc(n)||(Rt!==n&&((e=n)||!Xt(e,"object"))||(n=n||""),r.push(Pt(t)+"="+Pt(n)))}),r.join("&")},Ht.genReqId=function(){return""+1e3*$t()+parseInt(1e3*Wt())},Ht.run=function(n,t){te(n)?ne.each(n,t):t(n)},Ht.on=function(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e)},Ht.off=function(n,t,e){n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e)};var ne={isArray:function(n){return"[object Array]"===Ut.call(n)}},te=function(n){if(!n)return!1;var t=n.length;return!!ne.isArray(n)||!!(n&&zt(t)&&0<=t)&&(!Ht.isObj(n)||(!(1<t)||t-1 in n))};ne.isArrayLike=te,ne.find=function(e,r,i){var o=void 0;return te(e)&&ne.each(e,function(n,t){if(!0===r.call(i,n,t,e))return o=n,!1}),o},ne.filter=function(e,r,i){var o=[];return te(e)&&ne.each(e,function(n,t){r.call(i,n,t,e)&&o.push(n)}),o},ne.toArray=function(n,t,e){var r=[];return te(n)&&ne.each(n,function(n){r.push(t?t.call(e,n):n)},e),r};var ee=function(n,t,e){if(n){var r=void 0,i=void 0,o=void 0;if(te(n))for(i=0,o=n.length;i<o&&!1!==t.call(e,n[i],i,n);i++);else for(r in n)if(Ht.hasOwn(n,r)&&!1===t.call(e,n[r],r,n))break}};ne.each=ee;var re=function(n,t,e){if(n){for(var r=[],i=0,o=n.length;i<o;i++){var a=t.call(e,n[i],i,n);r.push(a)}return r}};ne.slice=function(n,t,e){return Ft.slice.call(ne.toArray(n),t,e)},ne.reduce=function(n,t){if(te(n)&&Ht.isFunc(t)){var e=n,r=e.length>>>0,i=0,o=void 0,a=arguments;if(3===a.length)o=a[2];else{for(;i<r&&!(i in e);)i++;if(r<=i)return;o=e[i++]}for(;i<r;)i in e&&(o=t(o,e[i],i,e)),i++;return o}};var ie={};function oe(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=void 0,r=void 0,i=void 0,o=void 0,a=void 0,u=0,c=0,s="",f=[];if(!n)return n;for(n=ae(n);e=(a=n.charCodeAt(u++)<<16|n.charCodeAt(u++)<<8|n.charCodeAt(u++))>>18&63,r=a>>12&63,i=a>>6&63,o=63&a,f[c++]=t.charAt(e)+t.charAt(r)+t.charAt(i)+t.charAt(o),u<n.length;);switch(s=f.join(""),n.length%3){case 1:s=s.slice(0,-2)+"==";break;case 2:s=s.slice(0,-1)+"="}return s}function ae(n){var t,e="",r=void 0,i=void 0,o=void 0;for(r=i=0,t=(n=(n+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,o=0;o<t;o++){var a=n.charCodeAt(o),u=null;a<128?i++:u=127<a&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==u&&(r<i&&(e+=n.substring(r,i)),e+=u,r=i=o+1)}return r<i&&(e+=n.substring(r,n.length)),e}ie.del=function(n,t){var e=n+"=;path=/;domain="+t,r=new Date;return r.setFullYear(1970),e+=";expires="+r.toUTCString(),Et.cookie=e,!0},ie.get=function(n){var t=Et.cookie.match(new RegExp("(?:^|;)\\s*"+n+"=([^;]+)"));return Vt(t?t[1]:"")},ie.set=function(n,t,e,r){r=r||Et.domain;var i=void 0,o=void 0,a=void 0,u=n+"="+Pt(t)+";path=/;domain="+r;Rt===e||isNaN(e)||(i=new Date,o=60*parseInt(e,10)*1e3,a=i.getTime()+o,i.setTime(a),u+=";expires="+i.toUTCString());try{return Et.cookie=u,!0}catch(n){return!1}},ie.top=function(n,t,e){var r=Et.domain,i=r.split("."),o=i.length,a=o-1,u=void 0,c=!1;for(t=""+t;!c&&0<=a&&(r=i.slice(a,o).join("."),ie.set(n,t,e,r),u=ie.get(n),Rt!==u&&(c=u===t),a--,!c););},ie.del=function(n){return ie.top(n,"",-100)};var ue=window.btoa,ce=oe;try{Ht.isFunc(ue)&&ue(ae(Mt))===oe(Mt)&&(ce=function(n){return ue(ae(n))})}catch(n){}var se=ce;function fe(n,t){var e=void 0,r=ne.find(n,function(n){return Ht.attr(n,"name")===t});return r&&(e=Ht.attr(r,"content")),e}function de(){var n=Dt[t];return Dt[n]}var le,ve=(le=void 0,{update:function(n){le=n},get:function(){return le}});function pe(n){var t={duration:function(n){var t=void 0,e=ve.get(),r=$t();if(n&&e)t=e,ve.update(r);else{var i=de(),o=Dt.performance&&Dt.performance.timing;(t=o&&o.requestStart)||(t=i?i.l:Bt),ve.update(r)}return r-t}(!0===n)},e=void 0,r=et.quit;return Ht.isFunc(r)&&(e=r()||{}),t=Ht.extend(t,e||{})}function he(n,t){t[rn]}var me=2032;function ge(){return Ct.protocol}/trident/i.test(Mt)||/msie/i.test(Mt)||!/mozilla.+webkit.+chrome.+/i.test(Mt)||(me=6e3);var _e=0;function ye(n,t){var e=/^((\d+\.)+\d+).*$/;if("string"!==Jt(n)||"string"!==Jt(t))return NaN;if(!e.test(n)||!e.test(t))return NaN;for(var r=n.replace(e,"$1").split("."),i=t.replace(e,"$1").split("."),o=0,a=Math.max(r.length,i.length);o<a;o++){if(!r[o]||!i[o])(!r[o]&&r||!i[o]&&i).push("0");var u=r[o].toString().length,c=i[o].toString().length;if(u!==c){var s=c<u?i:r;s[o]=Array(Math.abs(u-c)+1).join("0")+s[o].toString()}}var f=parseInt(r.join("")),d=parseInt(i.join(""));return f==d?0:d<f?1:-1}function we(e,r,i,o,a,u,c){return function(n){if(!e){e=!0;try{if(r&&new Date-i<50)return;if(o)return;if(o=!1,!c()){var t=pe();a("pageDisappear",t,{shouldStore:!0})}It({withUnload:!0})}catch(n){}u&&u(n)}}}var be=4,xe="",Se=function(n){be=n},ke=function(){return xe&&3===be},Oe=function(n){xe=n},qe=function(){return xe},Ae=Dt.sessionStorage,Ie=void 0;Ie=Ht.isFunc(Dt.atob)?Dt.atob:function(n){return n};var je=Mt,De=[{n:c,r:/lingxi\/demo\/\d+/i,v:je},{n:r,r:/dp\/com\.dianping\.[\w.]+\/([\d.]+)/i,v:je},{n:g,r:/\bmeituanwaimai-c\/\d+\./i,v:je},{n:"moviepro",r:/\bmoviepro/i,v:je},{n:"movie",r:/\bmaoyan\b/i,v:je},{n:_,r:/\bmeituan \d+|meituangroup\/\d+\./i,v:je}],Ce=/android/i.test(je),Ee="",Ne=Ce,Te=!1,Me=!1,Re="www",Fe=!1;if(/\bandroid|mobile\b|\bhtc\b/i.test(je)){Re="i",Ne=!0,ne.each(De,function(n){if(n.r.test(n.v))return Ee=n.n,!1}),/\btitans(no){0,1}x\b/i.test(je)&&(Te=!0);var Le=/iphone/i.test(je),Ve=/ipad/i.test(je);(Le||Ve)&&(Me=!0),Ee&&(Le?Re="iphone":/android/i.test(je)?Re="android":Ve&&(Re="ipad"))}else{var Pe=je.match(/(msie) (\d+)|Trident\/(d+)/i);Pe&&(Fe=!0,Pe&&parseInt(Pe[2],10))}var Be=Dt.screen.width+"*"+Dt.screen.height,Ue=Te||/ knb\/\d+/i.test(Mt),Qe=function(){return Ne&&Ue},Ke=Mt.replace(/^.*TitansX\/([\d.]+)\s.*$/i,"$1"),Je=!(!Ne||!/\sMicroMessenger/.test(je)),Xe=A+"_source",$e=A+"_medium",We=A+"_term",ze=A+"_campaign",He=A+"_content",Ze=void 0,Ge=!1;function Ye(n){if(!n)return Rt;var e=Rt,r=/^utm_(source|medium|term|content|campaign)$/;return ne.each(n,function(n,t){r.test(t)&&(!e&&(e={}),e[t]=n)}),e}function nr(n){if(n){Ze=n;var t=Ht.stringifyQuery(n);return ie.del(pn,Nt),ie.top(pn,t,dn,Nt),!0}return!1}function tr(n,t){var o,e,r,i,a;return(!Ze&&!Ge||n)&&(n=n||Ct.href,t=t||Et.referrer,a=n,(Ze=Ye(Ht.parseQuery(a))||function(n){var t=Rt,e=n.match(/^[\w-]+:\/\/([^/]+)(?:\/([^?]+)?)?/),a=e&&e[1];if(a){var u=Ht.parseQuery(n),r="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q m.baidu:word wap.baidu:word baidu:word Baidu:bs www.soso:w wap.soso:key www.sogou:query wap.sogou:keyword m.so:q m.sogou:keyword so.com:pq youdao:q sm.cn:q sm.cn:keyword haosou:q".split(" "),c="",s="";ne.each(r,function(n){var t=n.split(":"),e=t[0],r=t[1],i=u[r],o=-1<e.indexOf(".")?e:"."+e+".";if(-1<a.indexOf(o.toLowerCase())&&(s=e,c=i))return!1}),s&&((t={})[Xe]=s,t[$e]="organic",c&&(t[We]=c))}return t}(t))?nr(Ze):(i=ie.get(pn),Ze=D.test(i)?Ye(Ht.isStr(i)?Ht.parseQuery(i):null):Ze),Ze||(o=void 0,e=ie.get("__utmz"),(r=e&&e.match(/(utmc(tr|sr|cn|md|ct))=([^|()]+)/g))&&ne.each(r,function(n){var t=n.split("="),e=t[0],r=void 0,i=t[1]||"";"utmcsr"===e?r=Xe:"utmccn"===e?r=ze:"utmcmd"===e?r=$e:"utmcct"===e?r=He:"utmctr"===e&&(r=We),r&&((o=o||{})[r]=i)}),nr(Ze=o)),Ge=u),Ze}var er,rr,ir,or,ar=Dt.JSON;ar||(ar={parse:function(n){return new Function("return ("+n+")")()},stringify:(er=ne.isArray,rr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},ir=function(n){return rr[n]||"\\u"+(n.charCodeAt(0)+65536).toString(16).substr(1)},or=/[\\"\u0000-\u001F\u2028\u2029]/g,function n(t){if(null==t)return"null";if(Xt(t,"number"))return isFinite(t)?t.toString():"null";if(Xt(t,"boolean"))return t.toString();if(Xt(t,"object")){if("function"===Jt(t.toJSON))return n(t.toJSON());if(er(t)){for(var e="[",r=0;r<t.length;r++)e+=(r?", ":"")+n(t[r]);return e+"]"}if(Ht.isObj(t)){var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(n(o)+": "+n(t[o]));return"{"+i.join(", ")+"}"}}return'"'+t.toString().replace(or,ir)+'"'})});var ur=ar,cr="__lxsdk_",sr=Dt.localStorage;function fr(n){return cr+n}function dr(){return{length:0,_data:{},setItem:function(n,t){return this.length++,this._data[n]=String(t)},getItem:function(n){return this._data.hasOwnProperty(n)?this._data[n]:Rt},removeItem:function(n){return this.length--,delete this._data[n]},clear:function(){return this.length=0,this._data={}},key:function(n){var t=[],e=this._data;return ne.each(e,function(n){Ht.hasOwn(e,n)&&t.push(n)}),t[n]}}}var lr={get:function(n){n=fr(n);var t=sr.getItem(n);return t=Rt!==t?ur.parse(t):t},set:function(n,t){return lr.del(n),sr.setItem(fr(n),ur.stringify(t))},keys:function(){for(var n=[],t=void 0,e=0;e<sr.length;e++)0===(t=sr.key(e)).indexOf(cr)&&n.push(t.replace(cr,""));return n},del:function(n){try{return sr.removeItem(fr(n))}catch(n){}},clear:function(){for(var n=this.keys(),t=0;t<n.length;t++)this.del(n[t])}};if(sr){if(sr){var vr="___lxtest";lr.nt=!0;try{lr.set(vr,1),1!==lr.get(vr)?lr.clear():lr.del(vr)}catch(n){try{lr.clear(),sr.setItem(vr,1),sr.removeItem(vr)}catch(n){sr=dr(),lr.nt=!1}}}}else sr=dr(),lr.nt=!1;var pr="tag",hr=18e5;function mr(n,t,e,r,i,o){var a={};a.c=n,a.k=t,a.v=e,a.t=r||+new Date,a.u=i||"",a.r=o||"",this.toJSON=function(){return Ht.extend(!0,{},a)}}var gr={set:function(n,t,e){var r=void 0,i=[],o=lr.get(pr)||[];if(!Ht.isStr(t)||""===t)return!1;for(var a=0,u=o.length;a<u;a++)_r(r=o[a])||(n===r.c?t!==r.k&&i.push(r):i.push(r));return r=new mr(n,t,e,+new Date),i.push(r.toJSON()),lr.set(pr,i),!0},get:function(n,t){var e=void 0,r=lr.get(pr);if(r&&r.length)return e={},ne.each(r,function(n){var t={};t[n.k]=n.v,_r(n)||(e[n.c]=Ht.extend(!0,e[n.c]||{},t))}),n&&t?e[n]&&e[n][t]:n?e[n]:e},getAll:function(){var n=lr.get(pr),e={},r=void 0;return ne.each(n,function(n){var t=void 0;!_r(n)&&n.v&&(r=!0,(t={})[n.k]=n.v,e[n.c]=Ht.extend(!0,e[n.c],t))}),r&&e},clear:function(t,e){if(!arguments.length)return lr.set(pr,[]);if(Ht.isStr(t)){var n=lr.get(pr),r=[];ne.each(n,function(n){(e!==Rt&&n.k!==e||t!==n.c)&&r.push(n)}),lr.set(pr,r)}}};function _r(n){var t=Ht.now();return hr<t-n.t}function yr(n){return n}function wr(n){try{n(qr(this,xr),qr(this,br))}catch(n){if(this._state===Sr)return Ir(new wr(yr),br,n)}}wr.prototype.then=function(n,t){return function(n,t,e,r){Jt(e)===kr&&(t._onFulfilled=e);Jt(r)===kr&&(t._onRejected=r);n._state===Sr?n[n._pCount++]=t:Ar(n,t);return t}(this,new wr(yr),n,t)},wr.all=function(l){return new wr(function(r,e){for(var n,t,i,o=0,a=l.length,u=[],c=0,s=void 0,f=function(e){return function(n){if(e.value=n,e.state=xr,++c===e.len&&!s){var t=function(n){var t=[];for(o=0;o<a;o++)t.push(n[o]?n[o].value:void 0);return t}(u);r(t)}}},d=function(t){return function(n){t.value=n,t.state=br,c++,s||(s=!0,e(n))}};o<a;o++)t=n=void 0,t=l[o],i={value:null,index:o,state:null,len:a},u.push(i),n=i,t.then?t.then(f(n),d(n)):wr.resolve(t).then(f(n),d(n))})},wr.resolve=function(t){if(t instanceof wr)return t;if(Ht.isFunc(t.then)){var e=t.then.bind(t);return new wr(function(n,t){e(n,t)})}return new wr(function(n){n(t)})},wr.reject=function(e){return new wr(function(n,t){t(e)})};var br=0,xr=1,Sr=2,kr="function",Or="object";function qr(t,e){return function(n){return Ir(t,e,n)}}function Ar(e,r){return setTimeout(function(){var n=void 0,t=e._state?r._onFulfilled:r._onRejected;if(void 0!==t){try{n=t(e._value)}catch(n){return void Ir(r,br,n)}jr(r,n)}else Ir(r,e._state,e._value)})}function Ir(n,t,e){if(n._state===Sr){n._state=t,n._value=e;for(var r=0,i=n._pCount;r<i;)Ar(n,n[r++]);return n}}function jr(t,n){if(n!==t||!n){var e=void 0,r=Jt(n);if(null===n||r!==kr&&r!==Or)Ir(t,xr,n);else{try{e=n.then}catch(n){return void Ir(t,br,n)}Jt(e)===kr?function(t,e,n){try{n.call(e,function(n){e&&(e=null,jr(t,n))},function(n){e&&(e=null,Ir(t,br,n))})}catch(n){e&&(Ir(t,br,n),e=null)}}(t,n,e):Ir(t,xr,n)}return t}Ir(t,br,new Error("promise_circular_chain"))}wr.prototype._state=Sr,wr.prototype._pCount=0;var Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cr=function(){var n=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent);function e(){return n?navigator.userAgent.toLowerCase():""}function r(n){for(var t={},e=n.replace(/\([^)]+\)/g,"").split(/\s+/),r="",i=0;i<e.length;i+=1){var o=e[i],a=o.lastIndexOf("/");if(a<0)r=o;else{var u=o.slice(0,a);r&&(u=r+" "+u,r=""),t[u]=o.slice(a-o.length+1)}}return t}function c(n){var t=n||"0",e=t.match(/^(\d*)/);return e?Number(e[1]):0}function o(n,t){for(var e="string"==typeof n?n.split("."):["0"],r="string"==typeof t?t.split("."):["0"],i=Math.max(e.length,r.length),o=0;o<i;o+=1){var a=c(e[o]),u=c(r[o]);if(u<a)return 1;if(a<u)return-1}return 0}function a(n){var t=-1,e=document.createElement("iframe");function r(){clearTimeout(t);var n=e.parentNode;n&&n.removeChild(e),e.onload=null,e.onerror=null,e=null}e.style.display="none",e.onload=r,e.onerror=r,e.src=n,(document.body||document.documentElement).appendChild(e),t=setTimeout(r,3e3)}function u(n){window.KNBTitansX&&window.KNBTitansX.sendMessage?window.KNBTitansX.sendMessage(n):window.prompt(n)}function s(n){window.prompt(n)}var t,i={getDefaultSender:function(){var i=Function.prototype,n=e();if(/ios|iphone|ipod|ipad/.test(n))i=a;else if(/android/.test(n)){var t=r(n);i=0<o(t.android,"4.2.0")?u:s}return function(n,t,e){var r="js://_?method="+n+"&callbackId="+e+"&args="+encodeURIComponent(t);i(r)}},compareVersion:o,parseUserAgent:r,canUseSlot:(t=r(e()),0<=o(t.titansx||t.titansnox,"11.13"))},f=i.getDefaultSender,d=i.compareVersion,l=i.parseUserAgent,v=i.canUseSlot,p="function"==typeof Symbol&&"symbol"===Dr(Symbol.iterator)?function(n){return void 0===n?"undefined":Dr(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":void 0===n?"undefined":Dr(n)},h={sender:null};function m(n){return"DPApp_callback_"+n}function g(n,t){var e=m(n),r=window[e];r&&(r(t),r.isSafeDelete&&(window[e]=void 0))}function _(n){var t=n||"DPApp";if(!window[t]||!window[t].KNBCore){var e={dequeue:window[t]&&window[t].dequeue||Function.prototype,KNBCore:!0,callback:g};window[t]=function(n,t){if(n&&"object"===(void 0===n?"undefined":p(n))){var e=n;return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}return t}(window[t],e)}}var y,w={bindSender:function(n){"function"==typeof n&&(h.sender=n)},sendMessage:function(n,t,e,r){var i=v&&r?"KNBSlot"+r:void 0;_(i);var o=function(n){if(!/^[a-zA-Z0-9]*$/.test(n))throw new Error("illegal slot name");var t=Math.floor(1e3*Math.random());return+(Date.now().toString().slice(-5)+""+t)+(n?"_"+n:"")}(i),a=m(o),u=e||{};window[a]=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.status,e="action"===t?"handle":t;"0"===String(e)&&(e="success");var r=u[e]||u.fail;if("function"==typeof r)return r(n)},u.handle||(window[a].isSafeDelete=!0),h.sender&&h.sender(n||"",JSON.stringify(t||{}),o)},fireCallback:g,compareVersion:d,parseUserAgent:l};return y=w,"undefined"!=typeof window&&(h.sender=f(),window.KNBCore||(window.KNBCore=y)),w}(),Er=!1,Nr=[],Tr=void 0,Mr=void 0;function Rr(n){pt()||!Qe()?n(e,Mr):c===Ee?n(Rt,Mr):Er?n(Tr,Mr):(Nr.push(n),Er?n(Rt,Mr):new Promise(function(n){n({ready:function(n){return n()},use:function(n,t){t=t||{},Cr.sendMessage(n,{data:t.data||{}},t,"LXAnalyticsSDK")}}),Er=!0}).then(function(n){var t,e,r=Mr=n;t=Tr,e=r,ne.each(Nr,function(n){n(t,e)}),Nr=[]}))}var Fr=500,Lr="getUserInfo";function Vr(){return new wr(function(o,r){Rr(function(n,t){var e=Dt.DPApp,i=C(function(){o({})},Fr);t?t.ready(function(){t.use(Lr,{success:function(n){var t,e,r;v(i),o((e={},(r=(t=n)[q])&&"0"!==r||"dp"!==t.type?t[q]&&(e[q]=t[q]):e[q]=t[b],"dp"!==t.type&&t[b]&&(e[b]=t[b]),t.unionId&&(e.unionId=t.unionId),t.userId&&(e.userId=t.userId),e))},fail:function(n){v(i),r({code:h})}})}):e&&e[Lr]?e.ready(function(){e[Lr]({success:function(n){v(i);var t={};(n.dpid||n.userId)&&(t.dpid=n.dpid,t.userId=n.userId,t.unionId=n.unionId),o(t)},fail:function(n){v(i),r({code:a,res:n})}})}):r({code:a})})})}var Pr,Br=(Pr=function(){for(var n=1*new Date,t=0;n===1*new Date&&t<200;)t++;return n.toString(16)+t.toString(16)},function(){var n=(screen.height*screen.width).toString(16);return Pr()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var n=je,t=void 0,e=void 0,i=[],r=0;function o(n,t){var e=void 0,r=0;for(e=0;e<t.length;e++)r|=i[e]<<8*e;return n^r}for(t=0;t<n.length;t++)e=n.charCodeAt(t),i.unshift(255&e),4<=i.length&&(r=o(r,i),i=[]);return 0<i.length&&(r=o(r,i)),r.toString(16)}()+"-"+n+"-"+Pr()});function Ur(){var n,t=ie.get(mn)||Br();return(n=t)&&ie.top(mn,n,ln),t}function Qr(){return Math.floor(1+65535*Ht.rnd()).toString(16).substring(1)}function Kr(n){var t=n.match(/(\d+)(?:\.(\d+)(?:\.(\d+))?)?/),e=[];if(t)for(var r=1;r<t.length;r++)e.push(parseInt(t[r]||0));return e}function Jr(n,t){var e=Kr(n),r=Kr(t);return!(e[0]<r[0])&&(!(e[0]===r[0]&&e[1]<r[1])&&!(e[0]===r[0]&&e[1]===r[1]&&e[2]<r[2]))}var Xr="getEnv",$r=M,Wr=!1,zr=!1,Hr=!1,Zr=!1,Gr=[],Yr=0,ni=void 0,ti=Ht.now();function ei(n){var t=(n._opts||{}).nativeOptions||{};return{cb:"_lx"+(100*Ht.now()+Yr++),mn:n._mn,cn:n._cn,data:n._d||{},options:t,ver:4}}function ri(n,t,e,r,i){i=i||{};var o=this;o._cn=n,o._mn=t,o._d=e,o._cb=r,o._opts=i}function ii(n,t,e,r,i){if(R===$r||F===$r)return r($r);var o=new ri(n,t,e,Kn,i);if(T===$r)o.send(function(n,t){r(n,t)});else if(M===$r){if(Gr.push([o,r]),!Wr){Wr=!0;new Date;new ri(n,Xr,{}).send(function(r,n){if(new Date,r&&N(r),r)$r=R;else{if($r=T,gt(an),Ht.isStr(n))try{n=ur.parse(n)}catch(n){}var t=(ni=n).sdk_ver||"";zr=Jr(t,"4.0.0"),Hr=Jr(t,"4.3.0"),Zr=!Jr(t,"4.8.0")}ne.each(Gr,function(n){var t=n[0],e=n[1];r?(N(r),e(r)):t.send(function(n,t){e(n,t)})})})}}else r(L)}function oi(){return zr}var ai=3,ui=150,ci=5e3,si=3500,fi=!(ri.prototype.send=function(e){var r=this,i=ei(r),n="statistics://_lx/?data="+Pt(ur.stringify(i)),t=Ht.now();ni&&5e3<t-ti&&r._mn===Xr&&$r===T?(r._mn,e(0,ni)):(r._mn,i.cb,function(i,o,a){if(Ee!==c||!window.JavaScriptBridge)return Rr(function(n,t){if(n)return a(n);var e=!1,r=C(function(){e=!0,a(p)},5e3);t.use(i,{data:o,success:function(n){if(v(r),!e)if("success"===n.status){var t=n.data||{};try{Ht.isStr(t)&&(t=ur.parse(t)),a(Rt,t.data?t.data:n)}catch(n){a(n)}}else a(m)},fail:function(){v(r),e||a(m)}})});window.JavaScriptBridge.log(o,function(n){var t=n.data;try{Ht.isStr(t)&&(t=ur.parse(t)),a(Rt,t.data?t.data:t)}catch(n){a(n)}})}("lxlog",n,function(n,t){n?(r._mn,i.cb,new Date,N(n)):(r._mn,i.cb,new Date),e(n,t)}))}),di=[],li=[],vi=0,pi=0;function hi(n,t,e,r,i){var o=[{project:"web-lx-sdk",pageUrl:Ct.href,resourceUrl:n,category:i?"jsError":"ajaxError",sec_category:t,level:"error",unionId:e,timestamp:Ht.now(),content:""+r||""}],a=wi("//catfront.dianping.com/api/log?v=1",Ln,"application/x-www-form-urlencoded");a&&(a.onerror=a.onreadystatechange=function(){},a.send("c="+encodeURIComponent(ur.stringify(o))))}function mi(n,t){if(ai<=pi)return!1;t=Ht.extend({cb:Kt},t||{});var e,r,i,o=st(),a=!et.use_post;try{a?(!function n(t,e){var r=$t().toString(16)+vi++;var i=void 0,o=e||0,a=(u=t,c=[],s=[{l:In,s:jn},{l:wn,s:bn},{l:xn,s:Sn},{l:kn,s:On},{l:Dn,s:Cn},{l:qn,s:An}],ne.each(u,function(n){var t=Ht.extend(!0,{},n);ne.each(s,function(n){bi(t,n.l,n.s)});var e=[];ne.each(n.evs,function(r){r=Ht.extend(!0,{},r),ne.each(r,function(n,t){if(-1<t.indexOf("val_")&&(r[t.replace("val_","")]=r[t],delete r[t]),bi(r,"refer_url","urlr"),r[t]&&"url"===t){var e=Ct.hash;e&&(r.urlh=e),delete r[t]}}),e.push(r)}),t.evs=e,t[Cn]===t.uuid&&delete t.uuid;var r=t[Sn];r&&(t[Sn]=r.replace("data_sdk_","")),delete t.ua,c.push(t)}),c);var u,c,s;ne.each(a,function(n){delete n.ua});i=ur.stringify(a);if(!function(n){for(var t=n.length,e=t,r=0;r<t;r++)127<n.charCodeAt(r)&&e++;return 1.5*e<me}(i)){var f=t.length;if(1<f){var d=parseInt((f+1)/2),l=t.slice(0,d),v=t.slice(d);l.length&&n(l,o),v.length&&n(v,o)}else{var p=t[0],h=p.evs,m=h.length;if(1<m){var g=parseInt((m+1)/2),_=h.slice(0,g),y=h.slice(g);_.length&&n([Ht.extend(Ht.extend({},p),{evs:_})],o),y.length&&n([Ht.extend(Ht.extend({},p),{evs:y})],o)}else{var w=p.evs[0].val_lab;p.evs[0].val_lab=Ht.extend(!0,{custom:{_s:1}},w||{}),_i(st(),[p],{})}}return!1}var b=se(i);var x=Pt(b);var S=lt(!0);S+=-1<S.indexOf("?")?"&d="+x:"?d="+x;x.length;S=S+"&t=1&r="+r;!function n(t,e,r,i){var o=void 0,a=Rn+_e++;if(e=e||{},!(2<(r=r||0)))return Dt[a]=o=new Image,o.onload=function(){Dt[a]=null},o.onabort=o.onerror=function(){Dt[a]=null,n(t,e,++r,i)},o.src=t,o;i?Ht.isFunc(e.cb)&&e.cb(!1):C(function(){n(t,e,null,!0)},1e3)}(S,{cb:function(n){n||hi(location.host+location.pathname,"web-report-fail-image-overtime",t[0].union_id,"0")}});return!0}(n),t.cb(T)):_i(o,n,t)||Fe&&gi(o,n,t)||(e=o,r=n,(i=Tt.sendBeacon)&&(e=yi(e),i&&i.call(Tt,e,ur.stringify(r)))&&t.cb(T))}catch(n){return hi(Ct.path,"report-ajax",0,n.message,!0),!1}return!0}function gi(n,t,e,r){if(!Dt.XDomainRequest)return!1;try{var i=new XDomainRequest;return i.open(Ln,yi(n),!0),i.onload=function(){pi=0,e&&e.cb(T),di=[]},i.onerror=function(){pi++},i.ontimeout=function(){pi++,r||(!function(n,t,e,r){di=di.concat(t);var i=void 0,o=ne.reduce(di,function(n,t){return t.evs=n.evs.concat(t.evs),i=t.evs.length,ui<i&&ne.slice(t.evs,i-ui,i),t});if(di=[o],li.push(r),!fi)var a=setInterval(function(){if(ai<=pi)return clearInterval(a),!1;e(n,di,function(t){clearInterval(a),fi=!1,ne.each(li,function(n){n&&n(t)})},!0)},si)}(n,t,gi,e),fi=!0)},i.timeout=ci,i.send(ur.stringify(t)),!0}catch(n){return!1}}function _i(t,e,r,i){if(!Wn())return!1;try{var n=r&&r.method||Ln,o=wi(t,n,"text/plain");return i=i||0,o.onreadystatechange=function(){if(4===o.readyState){var n=o.status;200<=n?(pi=0,r&&r.cb&&r.cb(T,o.responseText),di=[]):(!i||i<ai)&&_i(t,e,r,++i),r.nm===V&&(400<=n||0===n)&&hi(t,"web-report-fail",e[0].union_id,n),o.onreadystatechange=null}},o.onerror=function(){o.abort(),(!i||i<ai)&&_i(t,e,r,++i)},o.send(n===Ln&&ur.stringify(e)||null),!0}catch(n){return!1}}function yi(n){var t="_lxsdk_rnd="+($t().toString(16)+vi);return-1===n.indexOf("?")?n+"?"+t:n+"&"+t}function wi(n,t,e){var r=new(Jn());return r.open(t||Ln,yi(n),!0),r.timeout=ci,t===Ln&&r.setRequestHeader("Content-Type",e),r}function bi(n,t,e){return Qt.call(n,t)&&n[t]&&(n[e]=n[t],delete n[t]),n}var xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Si={},ki=cn,Oi=[],qi=null,Ai={s:x,l:w,a:I,w:"wxid"},Ii="_lxsdk_wxenv_",ji=["sdk_ver","ua"];function Di(n){var t=/(^\w+-\w+-\w+-\w+-\w+)/;if(t.test(n)){var e=n.match(t);ie.top(hn,e[1],ln)}else n&&!/(^\w+\.\d+\.\d+\.\d+\.\d+)/.test(n)&&n.length<100?ie.top(hn,n,ln):ie.top(hn,"",-1)}var Ci=0,Ei=1,Ni=2,Ti="|";function Mi(n){var t=ie.get(_n);return t?t.split(Ti)[n]:""}function Ri(n,t,e){var r,i,o;ie.top(_n,(r=t,i=e,(o=[]).push(n||Fi()),o.push(r||Li()),o.push(i||Vi()),o.join(Ti)),vn)}function Fi(){return Mi(Ci)}function Li(){return Mi(Ei)}function Vi(){var n=0,t=Mi(Ni);return isNaN(t)||(n=parseInt(t)),n<0?0:n}var Pi=void 0;function Bi(n){var t=zt(Pi)&&Pi||Vi(),e=!1;return!0===n&&(t++,e=!0),(!t||t<-1)&&(e=!(t=0)),Pi=t,e&&(Ri(Rt,Rt,t),Pi=null),t}function Ui(n,c){return new wr(function(a,u){C(function(){u({code:p})},3e3),ii(n,"getEnv",{},function(n,t){if(n)u(n);else{qi=et.nativeSDKVer=t.sdk_ver,o=et.nativeSDKVer,Ht.isStr(o)&&(it.MVL=-1<ye(o,"4.14.0"),it.QR=-1<ye(o,"4.14.0"),it.getReqId=-1<ye(o,"4.12.0"));var e={uuid:b,msid:x,uid:k,dpid:q,appnm:I,union_id:s};for(var r in c=c||{},e){var i=e[r];t[r]&&(c[i]=t[r])}a(c)}var o})})}function Qi(){var n=ie.get(yn);if(n){var t=n.split(","),e=/^\d+\.\d{5,}$/;return 3!==t.length?null:e.test(t[0])&&e.test(t[1])?{lat:t[0],lng:t[1],tm:t[2]}:null}return null}function Ki(n){return Ht.extend(!0,{},n)}function Ji(n){var t=Et.getElementsByTagName("meta"),e=fe(t,"lx:appnm"),r=fe(t,"lx:defaultAppnm"),i=Ee,o=Et.domain,a=mt();return at("appnm",e),at("defaultAppnm",r),Ne&&Oe(Ee||e||r||o),Te?e||(2===a?n:i||(r||o)):e||(i||(r||o))}function Xi(){var n,t,e,r,i,o,a=Ee===_||Ee===g||Je,u=(n=ie.get(hn),t=ie.get("iuuid")||ie.get("uuid")||n,e=Fi(),r=Li(),i=ie.get(gn)||ie.get(q),o={},t&&(o[b]=t),e&&(o[x]=e),n&&(o[w]=n),r&&(o[k]=r),i&&(o[q]=i),o),c=void 0,s={};a&&(s=function(n){var t={};if(D.test(n)){var e=Ht.parseQuery(n);if(e[b]&&(t[b]=e[b]),e[S]&&(t[S]=e[S]),e[O]&&(t[k]=e[O]),e.__lxsdk_params){var i={},r=decodeURIComponent(decodeURIComponent(e.__lxsdk_params)).split(";");ne.each(r,function(n){var t=n.split(":"),e=t[0],r=t[1];if(r){if(!Ai[e])try{r=Ie(r)}catch(n){}i[e]=r}}),t[j]=i}return t}return t}(Ct.href)),(c=Ht.extend(u,s)).ct=Re;var f=tr();f&&(c[A]=f);var d,l,v=Ur();c[w]=v,c[b]||(c[b]=v),c[x]||(c[x]=(d=[],l=+new Date,d.push(l.toString(16)),d.push(Qr()),d.push(Qr()),d.push(Qr()),d.join("-")),Ri(c[x],c.uid||"")),c[b]&&Di(c[b]);var p=Ji();Ht.isStr(p)&&(c[I]=p);var h,m=(h=Mt.replace(/^.*([A-Za-z-]+)\/com\.(sankuai(?!\.meituan\.)|meituan(?!\.sankuai\.)|dianping|sankuai\.meituan|meituan\.sankuai)\.([.A-Za-z0-9-]+)\/(\d+[.\d]+).*$/,"$4"),/^\d+(\.\d+)+$/.test(h)?h:null);return m&&(c.app=m),c}function $i(t){return function(n){var e=n;return t!==n&&(e=Ht.extend(t,n)),e.dpid&&e.uid?e:Vr().then(function(n){var t={};return n.dpid&&(t.dpid=n.dpid,n.userId&&(t.uid=""+n.userId),n.unionId&&(t.union_id=n.unionId)),e=Ht.extend(e,t)},function(n){return N(n),e})}}var Wi=function(n){var a=Xi();if(n&&Ee||Qe()){var t=Ui(n,a);return r===Ee&&(t=t.then($i(a),function(n){return N(n),$i(a)()})),t.then(function(n){var t=Ji(n[I]),e=n[q],r=n[b],i=n[s],o=n;return n!==a&&(o=Ht.extend(a,n)),Ht.isStr(t)&&(o[I]=t),r&&Di(r),e&&ie.top(gn,e,ln),i&&ie.top("_lxsdk_unoinid",i,ln),o},function(n){return n&&N(n),a})}var e,o=Ki(a),u=o[j];return(e=Ht.now(),new wr(function(n){if(Je)if(Dt.WeixinJSBridge&&Dt.WeixinJSBridge.invoke)n("miniprogram"===Dt.__wxjs_environment);else{var t=setTimeout(function(){et.wx_t=Ht.now()-e,n(!1)},5e3);Et.addEventListener("WeixinJSBridgeReady",function(){clearTimeout(t),et.wx_t=Ht.now()-e,n("miniprogram"===Dt.__wxjs_environment)})}else n(!1)})).then(function(n){if(et.inWXMP=n){if("object"===(void 0===Ae?"undefined":xi(Ae))&&!Ht.isObj(u))for(var t in u={},Ae){var e=Ae[t];0===t.indexOf(Ii)&&(u[t.slice(Ii.length)]=e)}var r=function(n){var t=Ai[n]||n,e=u[n];e&&(o[d]=o[d]||{},o[t]&&(o[d][t]=o[t]),ne.find(ji,function(n){return n===t})||(o[t]=e));try{Ae.setItem(Ii+t,e||"")}catch(n){}};for(var i in u)r(i)}return delete o[j],wr.resolve(o)})};function zi(n){return fn===ki?wr.resolve(Ki(Si)):sn===ki?new wr(function(t){var n;n=function(n){t(n)},Oi.push(n)}):(ki=sn,Wi(n).then(function(e){return Si=Ht.extend(!0,{},e||{}),ki=fn,ne.each(Oi,function(n,t){Ht.isFunc(n)&&Oi[t](e)}),e}))}var Hi=/([a-fA-F0-9-]+)(\.\d+)/,Zi="_hc.v",Gi=525600,Yi="",no=/(dper|dianping|51ping)\.com/.test(Nt);function to(){return function(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}()+"."+Math.round(+new Date/1e3)}function eo(){return!Yi&&no&&(Yi=function(){var n=ie.get(Zi);if(n||(n=to(),ie.top(Zi,n,Gi)),n){var t=n.match(Hi);return t?t[1]:""}return""}()),Yi}var ro=function(){var n=void 0;try{var t=document;if(t.querySelectorAll){var e=t.querySelectorAll("head script"),r=t.querySelectorAll("body script"),i=[];ne.each(e,function(n){i.push(n)}),ne.each(r,function(n){i.push(n)});for(var o=0;o<i.length;o++){var a=i[o].innerHTML.match(/\[['"]\s*_setPageId\s*['"]\s*,\s*(\d+)\s*\]/);if(a){n=a[1];break}}}}catch(n){}return function(){return n}}();function io(n){var t=this;t.s=n;var e=void 0,r=lr.get(Mn)||{s:n,d:t.d};r.s!==n?(lr.del(Mn),e=t.d=[]):e=t.d=r.d||[],t.l=e&&e.length||0}var oo=null;function ao(){return oo}var uo="QR",co=20480/30,so=2592e5,fo={},lo=void 0,vo=!(io.prototype={constructor:io,set:function(n,t,e){var r=this,i=r.l,o=r.d,a=r.indexOf(n),u={scid:0<i?o[i-1].scid+1:0,cid:n,bid:t,sf:e};-1<a?o.splice(a,i-a,u):o.push(u),r.l=o.length,lr.set(Mn,{s:r.s,d:o})},indexOf:function(n){for(var t=this.d||[],e=0,r=t.length;e<r;e++){if(t[e].cid===n)return e}return-1},toJSON:function(){var n=this.d;return n&&n.length?n:null}}),po=[],ho=!1,mo=["ua"].join("|")+"|",go=["lxcuid","category","sdk_ver","utm","uuid","msid","ct","appnm"],_o=["utm","seq","tm","nm","val_ref","lng","val_lab","req_id","lat","s_from","val_cid","val_bid"];function yo(){if(!vo){var n=$t(),t=[lo.opts.cid],e=0,r=function(n,t){if(!n)try{var e=t;if(Ht.isObj(t)||(e=JSON.parse(t)),0===e.code)(function n(t){var e=0,r=0;var i=[];var o=$t()-so;for(var a in t)e+=t[a].bids.length,r+=t[a].bids.length;if(!r)return;for(var u in fo)e+=fo[u].bids.length,fo[u].tm<o&&i.push(u);co<e&&(i.length?(ne.each(i,function(n){delete fo[n]}),n(t)):fo={});fo=Ht.extend(fo,t);setTimeout(function(){lr.set(uo,fo)},10)})(function(n){if(!Ht.isObj(n))return;var i={},o=$t();return ne.each(n,function(t,r){i[r]=i[r]||{cid:r,tm:o,bids:[],envInfo:(t.envInfo||{}).quickReport||[],evsInfo:(t.evsInfo||{}).quickReport||[]},delete t.envInfo,delete t.evsInfo;var n=function(e){var n=t[e].quickReport||[];ne.each(n,function(n){var t={tp:e,id:n};i[r].bids.push(t)})};for(var e in t)n(e)}),i}(e.data)),vo=!0;else{if(304!==e.code)return void e.message;vo=!0}}catch(n){}};for(var i in fo)e++,n=Math.min(fo[i].tm,n);0===e&&(n=0);var o=("https://ocean.sankuai.com/delivery/api/web-configFile?\n                timestamp="+n+"\n                &cidList="+t.join(",")+"\n                &rnd="+Math.random()).replace(/\s/g,"");"https"===ge()&&_i(o,{},{cb:r})||function(n,t,e,r){var i=void 0,o=(r=r||{}).outTime||5e3,a="__lxsdk_jsonp_callback_"+Math.random().toString(16).slice(2,10);/^([^?]+)\?/.test(n)?n=n.replace(/^([^?]+)\?/,"$1?"+t+"="+a+"&"):/^([^#]+)#/.test(n)?n=n.replace(/^([^#]+)#/,"$1?"+t+"="+a+"#"):n+="?"+t+"="+a;var u=Et.createElement("script");u.src=n,Dt[a]=function(n){clearTimeout(i);try{e(Rt,n)}catch(n){}delete window[a]},u.type="application/javascript",u.charset="utf-8",u.setAttribute("async","true"),Et.body.appendChild(u),i=C(function(){try{e("timeout")}catch(n){}delete window[a]},o),C(function(){Et.body.removeChild(u)},0)}(o,"callback",r)}}function wo(n,t,e){if(!et.useQR)return!1;if(!fo[t])return!1;for(var r=fo[t].bids,i=0,o=r.length;i<o;i++){var a=r[i];if(a.tp==n){if(n===V&&a.id==t)return!0;if(a.id==e)return!0}}return!1}function bo(n,t,e){var r={},i={};if(n&&fo[n]){var o=go.concat(fo[n].envInfo||[]),a=_o.concat(fo[n].evsInfo||[]);ne.each(o,function(n){t.hasOwnProperty(n)&&t[n]&&(i[n]=t[n])}),ne.each(a,function(n){e.hasOwnProperty(n)&&mo.indexOf(n+"|")<0&&(r["evs."+n]=e[n])});var u=Ht.extend(!0,i,r);po.push(u),v(ho),ho=setTimeout(function(){_i("https://"+Qn+"/?rnd="+Math.random(),po,{nm:e.nm,cb:Kn}),po=[]},0)}}!function(){var n=lr.get(uo);if(n)try{var t=void 0;t=Ht.isObj(n)?n:JSON.parse(n),fo=Ht.extend(!0,fo,t)}catch(n){}}(),function t(){var e=xa();return new wr(function(n){e?n(e):setTimeout(function(){t().then(n)},100)})}().then(function(n){lo=n,et.useQR&&(ge(),yo())});var xo="category",So="setEvs",ko="val_bid",Oo="page",qo="s_from",Ao="lat",Io="lng",jo=[],Do=Et.referrer,Co=[],Eo=void 0,No=void 0,To={},Mo=0,Ro=function(n,t,e){if(e){var r={},i={custom:r};r[t]=e,n=Ht.extend(!0,n||{},i)}return n};function Fo(n,t){this.env=t||{},this.opts=Ht.extend(!0,{},n),jo.push(this),kt=this}var Lo=Fo.prototype;function Vo(n){return 6===n._ptpvs}function Po(){return!Mo}function Bo(n){return(n=n||{})&&!Ht.isObj(n)&&(n={cid:""+n}),n}function Uo(e,r,i,o,a){var u=this,n=a=a||{},t=n.isLeave,c=n.currentPageInfo,s=n.mvDelay,f=n.sf,d=wo(e,r,i);if(mt()===un){var l=$o(u),v=Yo(gr.getAll()),p=Ho(e,r,i,o),h=p.body,m=p.ev,g=na(l,h,v);if(d&&bo(r,l,m),e===Q){if(s)return Ht.run(h,function(n){Co.push(n)}),void C(function(){if(Co.length){var n=na(l,Co,v);u.send(n),Co=[]}},s*on)}else{if(e===K)return void Ot.call(u,K,l,h[0],{tag:v});if(e===B){if(c&&function(n,t){Ht.isObj(n[En])||(n[En]={});n[En][Oo]=t}(m,u._cpi),g=na(l,h,v),t){var _=pe(),y=zo(P,r,Rt,_);g.evs.push(y)}Ne&&f&&ao().set(r,i,f)}}u.send(g,{nm:e})}else{var w=u.env,b=void 0,x=Wo({isQuickReport:d}),S=[Go.call(u,e,r,i,o)];if(e===B&&(b={sf:f},u._cpi&&(b.cpi=u._cpi),S=[Go.call(u,e,r,i,o,null,b)],t)){var k=pe(),O=Go.call(u,P,r,null,k);S.push(O)}w[A]&&(S=function(n,t){if(!ne.isArray(n)||!n.length)return n;if(!Ht.isObj(n[0][En]))return n[0][En]={page:{utm:t[A]}},n;if(!Ht.isObj(n[0][En][Oo]))return n[0][En][Oo]={utm:t[A]},n;return n[0][En][Oo]=Ht.extend(!0,n[0][En][Oo],{utm:t[A]}),n}(S,w));var q=Xo(w[xo]);new Date;ii(q,So,S,function(n,t){n?(gt(un),N(n),new Date,Uo.call(u,e,r,i,o,a)):new Date},{nativeOptions:x})}}function Qo(){return Eo||(Eo=Ko()),Eo}function Ko(){return Ht.now().toString(16)+"-"+Math.floor(65535*Ht.rnd())+"-"+Math.floor(65535*Ht.rnd())}function Jo(n){var t,e,r=n.nm;V===r?(n.nm="mpt",n.val_act="pageview"):P===r?(n.nm="report",n.val_act="quit"):(n.nm="mge",n.event_type=(t=r,(e={})[X]="order",e[$]="pay",e[B]="click",e[J]="return",e[Q]="view",e[U]="click",e[t]||r)),n.nt=0,n.isauto=8}function Xo(n){return 0===n.indexOf("data_sdk_")&&(n=n.replace(xo,"")),n}function $o(n){var t,e,r=Ht.extend(!0,{},n.env);r[xo]=(t=r[xo],e="data_sdk_",0!==t.indexOf(e)&&(t=e+t),t);var i=r.utm,o={ua:je,sdk_ver:y,ch:i&&i.utm_source?i.utm_source:"web",sc:Be};return o[In]=y,Ht.extend(!0,o,r)}function Wo(n){return(n=n||{}).isQuickReport=ot("QR")&&!!n.isQuickReport,n}function zo(n,t,e,r,i){i=i||E;var o,a,u,c=Bi(!0),s=Qi(),f=void 0,d=V===n,l=X===n,v=$===n,p={nm:n,tm:Ht.now(),nt:un,isauto:i,val_cid:t,req_id:Qo(),seq:c};if(d){var h=Ct.href;p.url=h,(f=Do)&&(p.refer_url=f),i===E&&(Do=h)}return(l||d||v)&&Ne&&(o=p,(a=ao().toJSON())&&(o[qo]=a),p=o),r=Ro(r,"_hguid",eo()),(u=r)&&u.custom&&"v3"===u.custom._api&&!t&&(p.val_cid=Et.title||Ct.pathname,r=Ro(r,"_cid",1)),d&&(r=Ro(r,"_hpid",ro()),et.wx_t&&(r=Ro(r,"_wx_t",et.wx_t))),e&&(p[ko]=e),r&&(p[En]=r),s&&(p[Ao]=s.lat,p[Io]=s.lng),p}function Ho(n,t,e,r,i){var o=zo(n,t,e,r,i);return{body:function(n){{if(Co&&0<Co.length){var t=Co;return Co=[],t.push(n),t}return[n]}}(o),ev:o}}function Zo(n){return Me?n:Ce&&!Zr?n:Pt(n)}function Go(n,t,e,r,i,o){o=o||{},i=i||E;var a=this.env.appnm,u=Qi(),c=!_t,s=void 0,f={nm:n,tm:Ht.now(),nt:an,isauto:i,val_cid:t,shouldCover:c};f=Ht.extend(!0,f,To),No&&(f.req_id=No),o.sf&&(f._sf=o.sf);var d=void 0,l=Ht.extend(!0,{},r||{}),v=V===n;if(v){var p=Zo(Ct.href);d={ua:je,url:p};var h=tr();h&&h.utm_source&&(d.utm=h),(s=Do)&&(d.refer_url=Zo(s)),i===E&&(Do=p)}else d={};if(ne.each({web_req_id:Qo(),web_sdk_ver:y,lxcuid:Ur(),web_appnm:a,covered_by_native:c},function(n,t){Ht.isStr(n)&&(d[t]=n)}),Ht.isObj(l.custom)&&"v3"===l.custom._api&&(d.web_appnm=function(n){if(Ht.isStr(n))return n&&nt[n]||nt}("appnm")),o.cpi&&!l.page&&(l.page=o.cpi),l.custom=Ht.extend(!0,l.custom,d),l=Ro(l,"_hguid",eo()),v){l=Ro(l,"_hpid",ro());try{var m=void 0;ee(document.scripts,function(n){var t=n.src;/\/\/analytics\.meituan\.(net|com)\//.test(t)&&(m=t)}),l=Ro(l,"_lxsdk_url",m)}catch(n){}}return n!==U||Hr?oi()||Jo(f):oi()?f.nm=B:Jo(f),f[En]=l,u&&(f[Ao]=u.lat,f[Io]=u.lng),e&&(f[ko]=e),v&&!oi()&&(f.val_val=l,delete f[En]),f}function Yo(n){return n}function na(n,t,e){return ne.isArrayLike(t)||(t=[t]),Ht.run(t,function(n){n&&e&&(n.tag=e)}),n.evs=t,n}function ta(n,t){var e={};return e[rn]=t,Ht.extend(e,n)}function ea(e,n,t,r){var i,o,a,u,c=(i=n,o=t,a=r,u=null,!Ht.isStr(i)||o||a?Ht.isObj(i)&&Ht.isStr(o)&&!a&&(u=o,o=null):(u=i,i=null),u&&(a=Ht.extend({cid:u},a||{})),{lab:i,env:o,opts:a}),s=c.lab,f=c.env;r=Bo(c.opts);var d=e.opts.cid=r.cid||e.opts.cid;r=Ht.extend({cid:d},r),f&&Ht.isObj(f)&&ne.each(f,function(n,t){e._dt.set(t,n,Rt,!0)}),e._dt.pageView(s,r)}function ra(n,t){this.env=n||{},this.opts=t||{},this._t=[]}Lo.set=function(n,t,e,r){var i=this,o=i.env;if(Ht.isObj(n))ee(n,function(n,t){i.set(t,n)});else if(!r&&et.inWXMP&&Ht.isObj(o[d])&&o[d][n]?o[d][n]=t:o[n]=t,at(n,t),"utm"===n&&Ht.isObj(t)&&nr(t),an!==mt()||Fn[n])Ht.isFunc(e)&&e(o,i);else{var a={},u=Xo(o[xo]);a[n]=t,ii(u,"setEnv",a,function(){Ht.isFunc(e)&&e(o,i)})}},Lo.get=function(n,t){Ht.isFunc(t)&&t(this.env[n],this)},Lo.pageView=function(e,r){r=Bo(r)||{};var n=void 0,i=this,t=i.opts.cid,o=r.cid||t,a=r.isauto||E,u=r.isAutoInit,c=r.reportStatus,s=t&&!(Vo(i)||u)&&!Po(),f=c===un||un===mt(),d=i.env;if(this._cpi=e,s&&!ct()){var l=pe(!0);n=f?zo(P,t,null,l):Go.call(i,P,t,null,l),ut(0)}t&&(Vo(i)||Po())||(Eo=Ko()),i.opts.cid=o;var v=wo(V,o);if(f){var p=$o(i),h=Yo(gr.getAll()),m=Ho(V,o,null,e,a),g=m.body;s&&n&&g.unshift(n);var _=na(p,g,h);v&&bo(o,p,m.ev),this.send(_,{nm:V}),u||Mo++}else{var y=Wo({needCachePD:!0,isQuickReport:v}),w=[Go.call(i,V,o,null,e)];s&&n&&w.push(n),ne.each(w,function(n){n.appnm=d.appnm}),ii(Xo(d[xo]),So,w,function(n,t){n?(gt(un),i.pageView(e,r),hi(Ct.href,"native-report-error",i.env.union_id,N(n))):u||Mo++},{nativeOptions:y})}i._ptpvs=u?6:E},Lo.pageDisappear=function(e,r){r=Ht.extend({},r);var i=this,n=r.cid||i.opts.cid,t=r.getDurationFromLastPV||!1,o=r.shouldStore;ut(f);var a=pe(t);if(e=Ht.extend(a,e),un===mt()||o){var u=na($o(i),zo(P,n,null,e),Yo(gr.getAll()));o&&lr.nt?(ke()&&(et.inWXMP&&Ht.isObj(u[d])&&u[d][I]?u[d][I]=qe():u[I]=qe()),lr.set(l,u)):i.send(u)}else{var c=this.env,s=[Go.call(i,P,n,null,e)];ii(Xo(c[xo]),So,s,function(n,t){n&&(gt(un),i.pageDisappear(e,r))})}It()},Lo.systemCheck=function(e,r,i){i=Ht.extend({},i);var o=this,n=i.cid||o.opts.cid,t=!!i.isLXLog;if(un===mt()){var a=$o(o),u=na(a,Ho(U,n,e,r).body,Yo(gr.getAll()));t&&(a.category="others"),this.send(u)}else{var c=o.env,s=[Go.call(o,U,n,e,r)],f=Xo(c[xo]);t&&(f="others"),ii(f,So,s,function(n,t){n&&(gt(un),o.systemCheck(e,r,i))})}},Lo.moduleView=function(n,t,e){e=Ht.extend({},e);var r=this.opts.mvDelay||e.delay,i=e.cid||this.opts.cid;Uo.call(this,Q,i,n,t,{mvDelay:r})},Lo.moduleViewList=function(n,t,e){e=Ht.extend({},e);var r=this.opts.mvDelay||e.delay,i=e.cid||this.opts.cid,o=ot("MVL");mt()!==an||o?Uo.call(this,K,i,n,t):Uo.call(this,Q,i,n,t,{mvDelay:r})},Lo.moduleClick=function(n,t,e){var r=(e=Ht.extend({},e)).cid||this.opts.cid,i=e.sf;e&&e.isLeave&&ut(f);var o=e.withPageInfo&&Ht.isObj(this._cpi)?this._cpi:Rt;Uo.call(this,B,r,n,t,{currentPageInfo:o,isLeave:e.isLeave,sf:i})},Lo.moduleEdit=function(n,t,e){var r=(e=Ht.extend({},e)).cid||this.opts.cid;Uo.call(this,J,r,n,t,e)},Lo.order=function(e,r,i){i=Ht.extend({},i);var o=this,n=i.cid||o.opts.cid;he(0,r);var t=wo(X,n,e);if(un===mt()){var a=$o(this),u=Ho(X,n,e,r),c=u.body,s=Yo(gr.getAll()),f=na(a,c,s);t&&bo(n,a,u.ev),this.send(f)}else{var d=this.env,l=Wo({isQuickReport:t}),v=[Go.call(o,X,n,e,r)];ii(Xo(d[xo]),So,v,function(n,t){n&&(gt(un),o.order(e,r,i))},{nativeOptions:l})}},Lo.pay=function(e,r,i){i=Ht.extend({},i);var o=this,n=i.cid||o.opts.cid;he(0,r);var t=wo($,n,e);if(un===mt()){var a=$o(o),u=Ho($,n,e,r),c=u.body,s=Yo(gr.getAll()),f=na(a,c,s);t&&bo(n,a,u.ev),this.send(f,{cb:function(){gr.clear()}}),o.clearTag()}else{var d=this.env,l=Wo({isQuickReport:t}),v=[Go.call(o,$,n,e,r)];ii(Xo(d[xo]),So,v,function(n,t){n&&(gt(un),o.pay(e,r,i))},{nativeOptions:l})}},Lo.tag=function(e,n,t,i){var r=void 0,o=this.env,a=arguments,u=[],c=function(n){if(!Ht.isObj(n))return n;for(var t=n,e=0,r=u.length;e<r;e++){if(!t)return t;t=t[u[e]]}return t},s=function(){ne.each(a,function(n){if(!Ht.isStr(n))return!1;u.push(n)})},f=function(n,t,e){var r={};r[n]=t,ii(Xo(o[xo]),"setTag",r,function(n,t){i&&(e&&s(),i(n,c(t),!0))})},d=function(n){var t=gr.getAll();n||s(),i&&i(0,c(t),!1)};if(ne.each(a,function(n){Ht.isFunc(n)&&(i=n)}),Ht.isObj(e)){var l=this;ne.each(e,function(n,t){l.tag(t,n)})}else Ht.isStr(e)&&Ht.isObj(n)?un!==mt()?f(e,r=n,!0):(ee(n,function(n,t){gr.set(e,t,n)}),d(!0)):(Ht.isObj(t)||Ht.isStr(t))&&function(n){if(!Ht.isStr(n)&&!n.length)return!1;return!0}(e)&&Ht.isStr(n)?un!==mt()?((r={})[n]=t,f(e,r,!0)):(gr.set(e,n,t),d(!0)):Ht.isFunc(e)||Ht.isFunc(n)||Ht.isStr(e)&&Ht.isStr(n)&&Ht.isFunc(t)?un!==mt()?(s(),ii(Xo(o[xo]),"getTag",{},function(n,t){i&&i(n,c(t),!0)})):d():i&&i(-1)},Lo.clearTag=function(n,t,e){var r=0;un===mt()?(Ht.isFunc(n)&&(e=n,n=Rt),gr.clear(n,t),e&&e(0)):r=-1,e&&e(r)},Lo.sfrom=function(r){var i=void 0,n=this.env;un!==mt()?ii(Xo(n[xo]),"getSFrom",{},function(n,t){if(t){var e=t.data?t.data:t;i=Ht.isStr(e)?JSON.parse(e):e,r(n,i)}}):r(1,[])},Lo.send=function(n,t){var e=[];t=Ht.extend({cb:function(){}},t),Ht.run(n,function(n){ke()&&(et.inWXMP&&Ht.isObj(n[d])&&n[d][I]?n[d][I]=qe():n[I]=qe()),e.push(n)});var r=function(){var n=lr.get(l);n&&lr.del(l);return n}();r&&e.unshift(r),mi(e,t)},Lo.getAll=function(){return jo};var ia=ra.prototype;ia.create=function(n,t){var e=Ht.extend({},this.env);e=Ht.extend(e,{category:n});var r=Ht.extend({isDefault:!1},this.opts),i=new Fo(r=Ht.extend(r,t||{}),e);return this._t.push(i),t.isDefault&&(this._dt=i),i},ia.config=function(n,t){return Rt!==n&&(et[n]=t),"cid"===n&&Yt(t)&&(this.opts.cid=t),et[n]},ia._initPV=function(n,t){ea(this,this.config("pageValLab"),n=Ht.extend(n,this.config("pageEnv")),{isauto:6,reportStatus:un,cid:t,isAutoInit:!0})},ia.pageView=function(n,t,e){ea(this,n,t,e)},ia.moduleView=function(n,t,e){this._dt.moduleView(n,t,e)},ia.moduleViewList=function(n,t,e){this._dt.moduleViewList(n,t,e)},ia.systemCheck=function(n,t,e){this._dt.systemCheck(n,t,e)},ia.moduleClick=function(n,t,e){this._dt.moduleClick(n,t,e)},ia.moduleEdit=function(n,t,e){this._dt.moduleEdit(n,t,e)},ia.order=function(n,t,e,r){this._dt.order(n,ta(e,t),r)},ia.pay=function(n,t,e,r){this._dt.pay(n,ta(e,t),r)},ia.pageDisappear=function(n,t){this._dt.pageDisappear(n,t)},ia.tag=function(n,t,e,r){this._dt.tag(n,t,e,r)},ia.sfrom=function(n){this._dt.sfrom(n)},ia.clearTag=function(n,t,e){this._dt.clearTag(n,t,e)},ia.getAll=function(n){n&&n(this._t)},ia.getTracker=function(t,n){var e=ne.find(this._t,function(n){return n.env.category===t});n&&n(e)},ia.get=function(n,t){this._dt.get(n,t)},ia.set=function(n,t,e){this._dt.set(n,t,e)},ia._setRequestID=function(n){No=n},ia._setNativeEvsData=function(n,t){var e;e=t,To[n]=e};var oa=void 0,aa=!0,ua=function(){var n,t,e;!et.onWebviewAppearAutoPV||(t=n||$t(),e=de(),ve.update(t),Bt=t,e&&(e.l=t),Sa(),oa.pageView(),ut(0))},ca=function(){!!et.onWebviewAppearAutoPV&&(ct()||(ut(f),oa.pageDisappear({},{getDurationFromLastPV:!0})))},sa=function(){aa=!0,ua()},fa=function(){aa=!1,ca(),It()},da=function(){aa&&ua()},la=function(){aa&&(ca(),It())},va=void 0,pa=!!/\d\.\d\.\d/.test(Ke)&&0<=ye(Ke,"11.3.0");function ha(n,t){Ht.isStr(n)&&(t=Ht.isFunc(t)&&t||function(){},"on"+n in Dt||"KNB:"+n in Dt?Ht.on(window,n,function(n){t(n)}):(va=window.KNB)&&Ht.isFunc(va.subscribe)&&va.subscribe({action:n,handle:function(){t()},success:function(){},fail:function(n){}}))}var ma={hook:function(){try{ha("appear",sa),ha("disappear",fa),pa&&(ha("foreground",da),ha("background",la))}catch(n){hi("sdk","api-error","",n.stack,!0)}oa=xa()}},ga=[],_a=cn,ya=void 0,wa=void 0;function ba(n,t){return{cb:n,cmd:t}}function xa(){return ya}function Sa(){var t,r;yt(!1),(t=wa,r={none:!0},new wr(function(e){try{var n=ye(qi,"4.12.0");!qi||!zt(n)||n<0?e(r):t&&Ee||Qe()?ii(t,"getReqId",{},function(n,t){e(n?r:t)}):e(r)}catch(n){e(r),hi("sdk","api-error","",n.stack,!0)}})).then(function(n){var t=n||{},e=t.val_ref,r=t.req_id,i=t.refer_req_id,o=!!(r||e||i);r&&ya._setRequestID(r),e&&ya._setNativeEvsData("val_ref",e),i&&ya._setNativeEvsData("refer_req_id",i),yt(o)})}function ka(n,t){if(fn===_a)n&&n(ya);else if(sn===_a)n&&ga.push(ba(n,t));else{Ht.now();ga=ga.concat(ba(n,t));var e=Et.getElementsByTagName("meta"),o=fe(e,"lx:cid")||et.cid;if(!(wa=fe(e,"lx:category")))return void(_a=cn);_a=sn;var a=fe(e,"lx:mvDelay");a=isNaN(a)?0:parseInt(a,10);var u="off"!==fe(e,"lx:autopv");et.autoPV=u,C(Sa,1e3),wr.all([zi(wa)]).then(function(n){var t,r=n[0],e=r.appnm;!Ht.isStr(e)||Et.domain,ya=new ra(r,{cid:o,isDefault:!0,mvDelay:a}),wa&&ya.create(wa,{isDefault:!0}),r=Ht.extend(!0,ya._dt.env,r),ya._dt.env=r,Ht.now();try{var i=[];ne.each(ga,function(n){var t=n.cb,e=n.cmd;"config"===e||"set"===e?t(ya,r):i.push(n)}),Ne&&(t=r.msid,oo||(oo=new io(t))),u&&wa&&o&&o&&ya._initPV(r,o),ma.hook(function(){}),ne.each(i,function(n){n&&n.cb&&n.cb(ya,r)})}catch(n){}}).then(function(){_a=fn},function(n){throw _a=fn,n})}}var Oa=[["click",tn],["tap",tn],["view","moduleView"],["return","moduleEdit"],["order",en],["pay","pay"]],qa=ne.reduce(Oa,function(n,t){return n[t[0]]=t[1],n},{}),Aa=[["mpt",Y],["report","pageDisappear"]],Ia=ne.reduce(Aa,function(n,t){return n[t[0]]=t[1],n},{}),ja=ne.reduce(["config","event","send","use"],function(n,t){return n[t]=!0,n},{}),Da=function(n,t){var e=Et.getElementsByTagName("head")[0],r=Et.createElement("meta");r.setAttribute("name",n),r.setAttribute("content",t),e.appendChild(r)},Ca=function(e,n){return e=e||{},ee(n,function(n,t){1==={act:1,cid:1,val:1,lab:1,bid:1}[t]?e["val_"+t]=n:e[t]=n}),e},Ea=function(n,t,e){(n&&!Gt(n)&&(n={custom:{_lab:n}}),!n&&e&&(n={}),e)&&((n.custom=n.custom||{})[t]=e);return n},Na=function(n,t,e){return n&&!Gt(n)&&(n={custom:{_lab:n}}),n&&(n[t]=e),n},Ta=function(n,t){var e=n[En],r=n[Tn];if(e&&e===r&&(r=Zt(!0,{},r)),t&&(r||e)){var i=e;e=r||{},i&&(e=Ea(e||{},"_lab",i))}else if(!t&&(r||e)){if(Yt(r)&&(r={analyse_val:r}),Yt(e))e={val_lab:e};r&&(e=Na(e||{},"page",r))}return Rt!==n[z]&&(e=Ea(e||{},"_act",n[z])),Rt!==n[W]&&(e=Ea(e||{},"_et",n[W])),Rt!==n[Z]&&(e=Na(e||{},Z,n[Z])),Rt!==n[G]&&(e=Ea(e||{},"_el_id",n[G])),e};function Ma(n){var t,e,r,i=(e=(t=n).split("."),r=void 0,2===e.length&&(t=e[1],r=e[0]),[t,r]),o=void 0;return i[1]&&(o=i[1]),[n=i[0],o]}var Ra=function t(e,n){var r=Ma(e);e=r[0];var i=r[1],o=n[0],a=n[1];if(ne.isArray(o))return re(o,function(n){return t(i?i+"."+e:e,[n,a])});var u,c,s=(o.nm||"mge").toLowerCase();o.nm=s,(c=(u=o).val)&&(Ca(u,c),delete u.val),o=u;var f="mge"===s;if("mpt"===s)return function(n){n=Ca(n,n.val);var t=Ta(n,!0);return[Y,t,null,n[H]]}.apply(null,n);var d,l,v=en===s,p="pay"===s,h=o[W],m=o[z],g=Ta(o,!1);v||p||h||!f||!m?p||v?e=s:(l=h,e="mge"===(d=s)?l?qa[l]||nn:tn:"mpt"===d||"report"===d?Ia[d]:nn,f||(g=Ea(g||{},"_nm",s))):e=tn;var _=o[H];return _&&((a=a||{}).cid=_),i&&Ea(g,"_logchannel",i),Ea(g=g||{},"_api","v3"),e===en||"pay"===e?[e,o[Nn],g.order_id,g,a]:[e,o[Nn],g,a]},Fa=function n(){if(!n.f){Da("lx:autopv","off"),n.f=!0}},La=function(n){if(!n||!n.length)return n;try{var t=n[0];0<(a=(o=t).indexOf("."))&&(o=o.substr(a+1)),ja[o]&&(n=ne.slice(n,1),Va(t)?(Se(3),Fa(),n=Ra(t,n)):Pa(t)?(Se(3),Fa(),n=function(n,t){var e=Ma(n)[1];n=Y;var r=t[1],i=t[2],o=e?{custom:{_logchannel:e}}:Rt,a={};if(Yt(r))Gt(i)?o=i:Yt(i)&&(o=Ea({},"analyse_val",i));else if(Gt(r)){i=(a=Ca(a,r))[Tn],Yt(i)&&(i=Ea({},"analyse_val",i)),o=i;var u=a[En];u&&Ea(o,"_lab",u),r=a[H]}var c=void 0;return r&&((c={}).cid=r),[n,o=Ea(o,"_api","v3"),Rt,c]}(t,n)):Ba(t)?(Se(3),Fa(),n=function(n,t){var e=t[0],r=t[1];if(e&&(e=e.replace(/^data_sdk_/i,""),Da("lx:category",e)),Gt(r))return["set",r]}(0,n)):Ua(t,n[0],n[1])?(Fa(),e=t,r=n[0],i=n[1],n="appnm"===r&&Yt(i)?void Da("lx:appnm",i):("cid"===r&&Yt(i)&&Da("lx:cid",i),[e,r,i])):n.unshift(t))}catch(n){}var e,r,i,o,a;return n},Va=function(n){var t=n.indexOf(".");return 0<t&&(n=n.substr(t+1)),"event"===n},Pa=function(n){var t=n.indexOf(".");return 0<t&&(n=n.substr(t+1)),"send"===n},Ba=function(n){return"use"===n},Ua=function(n,t){var e=!1;return"cid"!==t&&"appnm"!==t||(Se(3),e=!0),"config"===n&&e},Qa=void 0,Ka=void 0;function Ja(n,t,e,r,i){if(Ht.isFunc(t))t.call(n,n,r,i);else if(!i&&Ht.isStr(t)&&Ht.isFunc(n[t]))return n[t].apply(n,e)}function Xa(){if(!Ka){Ka=!0;var r=void 0;Fe&&Ht.on(Et,"mouseup",function(n){var t=n.target||n.srcElement,e=t.tagName+t.href;e=e.toLocaleLowerCase(),1===t.nodeType&&/^ajavascript:/i.test(e)&&(r=new Date)});var n=Dt.onbeforeunload;Ne&&Me?Dt.addEventListener("pagehide",we(!1,Fe,r,void 0,$a,Rt,ct)):Dt.onbeforeunload=we(!1,Fe,r,void 0,$a,n,ct)}}function $a(r){var n=arguments;if(n.length){var i=ne.slice(n,1,n.length);try{Qa?Ja(Qa,r,i,Qa._dt?Qa._dt.env:null):ka(function(n,t,e){Ja(Qa=n,r,i,t,e),Xa()},r)}catch(n){try{hi("sdk","api-error","",n.message+"\n"+n.stack,!0)}catch(n){}}}}window._lxsdk_isDOMReady||(window._lxsdk_isDOMReady=!0,function(){var s=!0,f=!1,d=function(){var n=de();n&&(n.q.push=function t(n){try{var e,r=(e=La(n))?e[0]:"";if(ne.isArray(r))return void ee(e,function(n){t(n)});"start"===r?(s=!0,f||l(d)):!1===s?e&&d.push(e):$a.apply(Rt,e)}catch(n){try{hi("sdk","api-error","",n.stack,!0)}catch(n){}}});for(var t=void 0,e=void 0,r=[],i=[],o=[],a=n&&ne.isArray(n.q)?n.q:[],u=0,c=a.length;u<c;u++)"config"===(e=a[u][0])?i.push(a[u]):t||"use"!==e?o.push(a[u]):(r.push(a[u]),t=!0);return a=i.concat(r.concat(o))}();function l(n){f||(n&&ne.each(n,function(n){var t,e=(t=La(n))?t[0]:"";ne.isArray(e)?ee(t,function(n){$a.apply(Rt,n)}):e?$a.apply(Rt,t):n&&n&&n[0]}),$a(function(){Xa()}),f=!0)}if(0===d.length)ka(function(n){Qa=n,Xa()});else try{d=re(d,function(n){var t;if("config"===((t=La(n))?t[0]:"")){var e=t[1],r=t[2];"autoStart"===e&&!1===r&&(s=!1)}return t}),s&&l(d)}catch(n){}}())}();
